<!DOCTYPE html>
<html>
<head>
  <title>Songless Game</title>
  <style>
    body {
      font-family: sans-serif;
      text-align: center;
      padding-top: 100px;
    }
    button {
      padding: 10px 20px;
      font-size: 18px;
      margin: 10px;
    }
    #videoTitle {
      font-size: 20px;
      margin-top: 20px;
    }
  </style>
</head>
<body>

  <h1>üéµ Songless Game</h1>
  <div id="player"></div>

  <div id="videoTitle">Loading song...</div>

  <button onclick="playNextSnippet()">‚ñ∂Ô∏è Next Hint</button>
  <button onclick="revealAnswer()">‚ùì Reveal Answer</button>
  <button onclick="nextVideo()">‚û°Ô∏è Next Song</button>

  <script>
    const videos = [
      { id: "kJQP7kiw5Fk", title: "Despacito", start: 7 },
      { id: "09R8_2nJtjg", title: "Sugar - Maroon 5", start: 5 },
      { id: "YQHsXMglC9A", title: "Hello - Adele", start: 4 }
    ];

    const snippetDurations = [0.5, 1, 2, 4, 8, 16];
    let currentIndex = 0;
    let hintIndex = 0;
    let player;
    let playTimeout;

    function loadVideo(index) {
      document.getElementById("videoTitle").innerText = "üé∂ Guess the Song!";
      hintIndex = 0;
      player.loadVideoById(videos[index].id);
    }

    function playNextSnippet() {
      clearTimeout(playTimeout);

      if (hintIndex >= snippetDurations.length) {
        document.getElementById("videoTitle").innerText = "No more hints!";
        return;
      }

      const duration = snippetDurations[hintIndex];
      const start = videos[currentIndex].start || 0;

      player.seekTo(start);
      player.playVideo();
      document.getElementById("videoTitle").innerText = `Hint: ${duration} seconds`;

      playTimeout = setTimeout(() => {
        player.pauseVideo();
        hintIndex++;
      }, duration * 1000);
    }

    function revealAnswer() {
      document.getElementById("videoTitle").innerText = `üéµ Answer: ${videos[currentIndex].title}`;
    }

    function nextVideo() {
      clearTimeout(playTimeout);
      currentIndex = (currentIndex + 1) % videos.length;
      loadVideo(currentIndex);
    }

    function onYouTubeIframeAPIReady() {
      player = new YT.Player('player', {
        height: '0',
        width: '0',
        videoId: videos[0].id,
        events: {
          onReady: () => loadVideo(0)
        }
      });
    }
  </script>

  <script src="https://www.youtube.com/iframe_api"></script>

</body>
</html>
